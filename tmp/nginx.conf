worker_processes 5; 
error_log stderr; 
worker_rlimit_nofile 8192; 
daemon off; 
events {
    worker_connections 4096; 

}
http {
    server {
            location / {
                    add_header Content-Type text/plain; 
            return 200 'gangnam style!'; 

        }
        listen 8080; 

    }
    server {
            listen 8090; 
        location / {
                    proxy_pass http://127.0.0.1:8888; 
            proxy_http_version 1.1; 
            proxy_set_header Upgrade $http_upgrade; 
            proxy_set_header Connection 'upgrade'; 
            proxy_set_header Host $host; 
            proxy_cache_bypass $http_upgrade; 

        }

    }

}
